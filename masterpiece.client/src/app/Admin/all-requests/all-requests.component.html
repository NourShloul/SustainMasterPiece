<!-- all-requests.component.html -->
<hr />
<h2>Requests</h2>
<hr />

<!-- حقل البحث حسب اسم الشركة -->
<div class="form-group mb-3">
  <input type="text" class="form-control" placeholder="Search by company name" [(ngModel)]="searchTerm" (input)="filterByCompany()">
</div>

<br />

<!-- جدول الطلبات -->
<table class="table table-striped table-hover">
  <thead>
    <tr class="text-center">
      <th scope="col">requestId</th>
      <th scope="col">User Name</th>
      <th scope="col">Service Name</th>
      <th scope="col">Subservice Name</th>
      <th scope="col">Description</th>
      <th scope="col">Company Name</th>
      <th scope="col">budget</th>
      <th scope="col">status</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of filteredRequests" class="align-middle text-center">
      <td>{{item.orderNumber}}</td>
      <td>{{item.firstname}}</td>
      <td>{{item.serviceName}}</td>
      <td>{{item.subservicename}}</td>
      <td>{{item.description}}</td>
    <td>{{item.companyname}}</td>
    <td>{{item.budget}}</td>
      <td>
        <select [(ngModel)]="item.status" (change)="updateStatus(item.requestid, item.status)">
          <option>{{item.status}}</option>
          <option>In Progress</option>
          <option>Approve</option>
          <option>Reject</option>
        </select>
      </td>
    </tr>
  </tbody>
</table>
