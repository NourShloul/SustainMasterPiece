<!-- service details section start -->
<section class="services_area">
  <div class="container">
    <div class="row g-6">
      <div class="col-lg-8" *ngFor="let item of postdetails">
        <div class="service-details-banner mb-lg-10 mb-md-8 mb-6">
          <img class="w-100 radius-16 sizeimag" src="https://localhost:7270{{item.storyPhoto}}"
               alt="service details banner">
        </div>
        <div class="service-details-content d-grid gap-lg-6 gap-4 mb-lg-10 mb-md-8 mb-6">
          <div class="d-flex align-items-center gap-lg-4 gap-2">
            <div class="d-flex align-items-center gap-1 text-n20">
              <span class="text-lg"><i class="ph ph-user-circle"></i></span>
              <span>{{item.user.userName}}</span>
            </div>
            <span class="d-block vr-line bg-n20-2"></span>
            <div class="d-flex align-items-center gap-1 text-n20">
              <span class="text-lg"><i class="ph ph-tag"></i></span>
              <span>*</span>
            </div>
            <span class="d-block vr-line bg-n20-2"></span>
            <div class="d-flex align-items-center gap-1 text-n20">
              <span class="text-lg"><i class="ph ph-calendar-blank"></i></span>
              <span>{{item.storyDate | date: 'yyyy/MM/dd hh:mm a'}}</span>
            </div>
          </div>
          <h1>{{item.storyTitle}}</h1>
          <p class="text-n10 font-instrument fw-normal">
            {{item.storyContent}}
          </p>
        </div>

        <div class="service-details-content d-flex align-items-center justify-content-between gap-lg-6 gap-4 flex-wrap mb-lg-10 mb-md-8 mb-6">
          <div class="d-flex align-items-center gap-lg-4 gap-2">
          </div>
        </div>
        <!-- comment form -->
        <div class="comment-form">
          <div class="mb-lg-4 mb-2">
            <h3 class="text-n20 font-otomanopee fw-normal mb-lg-5 mb-3">Leave a comment</h3>
          </div>
          <form #formData="ngForm" class="d-grid gap-lg-6 gap-4" (ngSubmit)="Addcomment(formData.value)">

            <div class="mb-lg-2 mb-1">
              <textarea name="content"
                        class="px-xl-6 px-lg-4 px-3 py-lg-3 py-2 w-100 border n20-1-border radius-8 focus-primary w-100"
                        rows="6" placeholder="comment here" ngModel></textarea>
            </div>
            <div>
              <button type="submit" class="btn-primary mb-5">Add Comment</button>
            </div>
          </form>
        </div>
        <!-- comment area -->
        <div class="comment-area mb-lg-10 mb-md-8 mb-6">
          <h3 class="text-n20 font-otomanopee fw-normal mb-lg-6 mb-4"> Comments</h3>
          <div class="comment-wrapper d-grid gap-lg-6 gap-4">
            <div class="single-comment d-grid gap-lg-4 gap-2" *ngFor="let item of comments">
              <div class="d-flex align-items-center justify-content-between gap-lg-4 gap-2 flex-wrap">
                <div class="d-flex align-items-center gap-lg-4 gap-2">
                  <div class="commenter icon-100px">
                    <img class="w-100" src="https://localhost:7270/api/Images/getImages/{{item.user.image}}" alt="author">
                  </div>
                  <div class="d-grid gap-1">
                    <span class="text-n20 font-instrument fw-bold">{{item.user.userName}}</span>
                    <span class="text-n10 font-instrument fw-normal">
                      {{item.createDate | date: 'yyyy/MM/dd hh:mm a'}}
                    </span>
                  </div>
                </div>
                <div class="d-flex flex-column">
                  <button (click)="toggleForm(item)" class="comment-replay-btn btn-primary py-1 px-2 radius-4 font-instrument fw-normal mb-3">
                    <span><i class="ph-fill ph-share-fat"></i></span> Reply
                  </button>
                  <button (click)="getreplaybycommentid(item.commentId)" (click)="replaysForm(item)" class="comment-replay-btn btn-primary py-1 px-2 radius-4 font-instrument fw-normal">
                    <span><i class="ph-fill ph-share-fat"></i></span> All replays
                  </button>
                </div>
              </div>
              <span class="text-n10 font-instrument fw-normal">
                {{item.content}}
              </span>
              <div class="replies" *ngIf="item.showreply">
                <div class="single-reply mb-2" *ngFor="let reply of replays" style="border:1px solid gray;border-radius:10px">
                  <div class="d-flex align-items-center gap-2">
                    <div class="commenter icon-100px">
                      <img class="w-50 ms-10" src="https://localhost:7270{{reply.image}}" alt="author">
                    </div>
                    <span class="text-n20 font-instrument fw-bold">{{reply.userName}}</span>
                    <span class="text-n10 font-instrument fw-normal">{{reply.createDate | date: 'yyyy/MM/dd hh:mm a'}}</span>
                  </div>
                  <p class="text-start m-10">{{reply.content}}</p>
                </div>
              </div>
              <div class="form" *ngIf="item.showForm">
                <form action="#" #formdata="ngForm" (ngSubmit)="addreplay(formdata.value ,item.commentId)"
                      class="d-flex align-items-center gap-lg-4 gap-2 border n20-border radius-4 overflow-hidden p-3">
                  <textarea class="comment-textarea w-100 font-instrument border-0" name="content" ngModel
                            placeholder="Write a comment..."></textarea>

                  <button class="comment-replay-submit btn-primary py-1 px-2 radius-4 font-instrument fw-normal"
                          type="submit">
                    <i class="ph-fill ph-paper-plane-right"></i>
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>


      </div>
    </div>
  </div>

</section>
<!-- service details section end -->
